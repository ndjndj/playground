version: '3'
services: 
  dynamodb: 
    image: amazon/dynamodb-local 
    container_name: dynamodb-local
    command: -jar DynamoDBLocal.jar -sharedDb -dbPath . -optimizeDbBeforeStartup
    volumes: 
      - dynamodb:/var/lib/dynamodblocal 
    ports: 
      - 8000:8000
  dynamodb-admin: 
    image: aaronshaf/dynamodb-admin 
    tty: true 
    container_name: dynamodb-admin 
    ports: 
      - "8001:8001"
    depends_on:
      - dynamodb 
    environment: 
      DYNAMO_ENDPOINT: http://dynamodb-local:8000
  awscli: 
    build: 
      context: . 
      dockerfile: Dockerfile-awscli 
    entrypoint: [""]
    tty: true 
    command: 
      - /bin/sh 
    volumes: 
      - ./bin:/usr/app
volumes: 
  dynamodb: 
    driver: local 
  bin: 
    driver: local